(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"./app/components/SocialPlugin/index.tsx":function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"console",function(){return m});var r=n("./node_modules/tslib/tslib.js"),i=n("./node_modules/react/index.js"),s=n("./node_modules/react-load-script/lib/index.js"),a=n("./node_modules/react-redux/lib/index.js"),c=n("./node_modules/redux/lib/redux.js"),u=n("./app/components/A/index.tsx"),p=n("./app/components/Button/index.tsx"),l=n("./node_modules/redux-thunk-actions/lib/index.js"),d=n("./app/constants/actions.ts"),f=n("./app/constants/naver.ts"),b=n("./app/utils/request.ts"),h={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},m=Object(l.createActionThunk)(d.b,function(t,e){return Object(b.c)(f.cb+"/apis/console",{body:t,headers:h})}),y=n("./app/actions/url.ts"),v=n("./node_modules/classnames/index.js"),g=n("./node_modules/dateformat/lib/dateformat.js"),j=n.n(g),w=n("./app/utils/event.ts"),_=n("./app/utils/logger.ts"),O=n("./app/utils/user-agent.ts");n.d(e,"mapDispatchToProps",function(){return x});var E=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.spiVisible=!1,o.init=function(){o.setState({loaded:!0})},o.onError=function(){_.a.error("Social Plugin is not loaded")},o.onLoad=function(){var t=o;window.__splugin=window.SocialPlugIn_Core({dimmed:"fixed",evKey:"papago",onClick:function(e){t.spiVisible=!1,document.getElementsByTagName("body")[0].style.overflow=""},onHide:function(){t.spiVisible=!1,document.getElementsByTagName("body")[0].style.overflow=""},onShow:function(){t.spiVisible=!0},serviceName:"파파고"})},o.state={loaded:!1},o.onClick=o.onClick.bind(o),o.onError=o.onError.bind(o),o.onLoad=o.onLoad.bind(o),o}return r.__extends(e,t),e.prototype.componentDidMount=function(){window.checkLoaded()?this.init():window.addEventListener("load",this.init,!1)},e.prototype.componentWillUnmount=function(){window.removeEventListener("load",this.init,!1)},e.prototype.onClick=function(t){var e=document.getElementsByClassName("spi_lst_release"),n=this.props.isMobileDevice,o=void 0===n?Object(O.j)():n;if(!this.spiVisible||0===e.length||e[0]&&"none"===e[0].style.display){var r=document.getElementById("naver-splugin"),i=this.props.getShareUrl();this.props.urlActions.getShortenUrl({svcCode:f.x,url:i}).then(function(e){(t.persist(),r.setAttribute("data-url",e.result.url),o)&&(document.getElementsByTagName("body")[0].style.overflow="hidden");r.click()})}this.props.onClick&&this.props.onClick(t)},e.prototype.render=function(){var t=r.__assign({align:"right",layerPosition:"outside-bottom",left:0,marginLeft:8,marginTop:10,top:4},this.props.dataOption),e=this.props.isMobileDevice,n=void 0===e?Object(O.j)():e,o=n?f.Q:f.mb,a=this.props.initParams,c=this.props.targetText;return i.createElement(p.a,{id:"naverSpluginButton",area:this.props.area,className:this.props.className,onClick:this.onClick,title:this.props.title},this.props.children,i.createElement(u.a,{onClick:function(t){return Object(w.a)(t)},id:"naver-splugin",className:v("naver-splugin"),"data-oninitialize":a?"(function() { return "+JSON.stringify(this.props.initParams)+"})()":"","data-blog-return-url":"http://m.blog.naver.com","data-me-feed-info":"파파고","data-me-oninitialize":"onSubscribe(this);","data-option":t,"data-style":n?"standard":"unity-v2","data-title":c&&""!==c?c.substring(0,200):this.props.title,title:this.props.title},i.createElement("span",{className:"blind"},"공유하기"),i.createElement("span",{className:"naver-splugin-c"})),this.state.loaded&&i.createElement(s,{id:"naver-splugin-sdk",url:o+"?"+j()(new Date,"yyyymmdd"),charset:"utf-8",onError:this.onError,onLoad:this.onLoad}))},e}(i.PureComponent);function x(t){return{debugActions:Object(c.bindActionCreators)(o,t),urlActions:Object(c.bindActionCreators)(y,t)}}e.default=Object(a.connect)(null,x)(E)},"./node_modules/react-load-script/lib/index.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n("./node_modules/react/index.js"),s=(o=i)&&o.__esModule?o:{default:o},a=n("./node_modules/prop-types/index.js");var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.scriptLoaderId="id"+n.constructor.idCount++,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Component),r(e,[{key:"componentDidMount",value:function(){var t,e,n,o=this.props,r=o.onError,i=o.onLoad,s=o.url;this.constructor.loadedScripts[s]?i():this.constructor.erroredScripts[s]?r():this.constructor.scriptObservers[s]?this.constructor.scriptObservers[s][this.scriptLoaderId]=this.props:(this.constructor.scriptObservers[s]=(t={},e=this.scriptLoaderId,n=this.props,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t),this.createScript())}},{key:"componentWillUnmount",value:function(){var t=this.props.url,e=this.constructor.scriptObservers[t];e&&delete e[this.scriptLoaderId]}},{key:"createScript",value:function(){var t=this,e=this.props,n=e.onCreate,o=e.url,r=e.attributes,i=document.createElement("script");n(),r&&Object.keys(r).forEach(function(t){return i.setAttribute(t,r[t])}),i.src=o,i.hasAttribute("async")||(i.async=1);var s=function(e){var n=t.constructor.scriptObservers[o];Object.keys(n).forEach(function(r){e(n[r])&&delete t.constructor.scriptObservers[o][t.scriptLoaderId]})};i.onload=function(){t.constructor.loadedScripts[o]=!0,s(function(t){return t.onLoad(),!0})},i.onerror=function(){t.constructor.erroredScripts[o]=!0,s(function(t){return t.onError(),!0})},document.body.appendChild(i)}},{key:"render",value:function(){return null}}]),e}();c.propTypes={attributes:a.PropTypes.object,onCreate:a.PropTypes.func,onError:a.PropTypes.func.isRequired,onLoad:a.PropTypes.func.isRequired,url:a.PropTypes.string.isRequired},c.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},c.scriptObservers={},c.loadedScripts={},c.erroredScripts={},c.idCount=0,e.default=c,t.exports=e.default}}]);